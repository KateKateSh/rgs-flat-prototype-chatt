export type Reply = { label: string; next: string; intent?: string };
export type Node = {
  id: string;
  bot: string | string[];          // –æ–¥–Ω–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –±–æ—Ç–∞
  replies?: Reply[];               // –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏
  intent?: string;                 // –∫–∞–∫–æ–π —Å–ª–æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∞
};

export const flow: Record<string, Node> = {
  // –§—Ä–µ–π–º 1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –º–æ—Ç–∏–≤–∞
  start: {
    id: 'start',
    bot: [
      '–ü—Ä–∏–≤–µ—Ç! –Ø –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –†–ì–°. –•–æ—á–µ—à—å, –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ–º –∫–≤–∞—Ä—Ç–∏—Ä—ã? –í–º–µ—Å—Ç–µ –Ω–∞–π–¥—ë–º –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç.',
    ],
    replies: [
      { label: '‚úÖ –î–∞, –¥–∞–≤–∞–π', next: 'why_insurance', intent: 'stats_overall' },
      { label: 'ü§î –ü–æ–∫–∞ —Ö–æ—á—É –ø–æ–Ω—è—Ç—å, —á—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ', next: 'what_is', intent: 'faq_common' },
    ],
  },

  // –ú–∏–Ω–∏-–≥–∞–π–¥: —á—Ç–æ –¥–∞—ë—Ç —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞
  what_is: {
    id: 'what_is',
    bot: [
      '–≠—Ç–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: –æ—Ñ–æ—Ä–º–ª—è–µ—à—å –ø–æ–ª–∏—Å –∑–∞—Ä–∞–Ω–µ–µ ‚Äî –ø–æ–ª—É—á–∞–µ—à—å –ø–æ–º–æ—â—å, –µ—Å–ª–∏ —Å–ª—É—á–∏—Ç—Å—è –ß–ü.',
      '–ü–æ–∫—Ä—ã–≤–∞–µ–º —Ä–µ–º–æ–Ω—Ç/–≤–µ—â–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ —Å–æ—Å–µ–¥—è–º–∏. –ß–∞—â–µ –≤—Å–µ–≥–æ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∏–∑-–∑–∞ –∑–∞–ª–∏–≤–∞ –∏ –ø–æ–∂–∞—Ä–æ–≤.',
    ],
    replies: [
      { label: '–û–∫–µ–π. –î–∞–ª—å—à–µ', next: 'ownership_question', intent: 'stats_overall' },
    ],
  },

  why_insurance: {
    id: 'why_insurance',
    bot: [
      '–í–æ—Ç –ø—Ä–∏–º–µ—Ä—ã, –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ —Å–ø–∞—Å–∞–µ—Ç: –∑–∞–ª–∏–≤, –ø–æ–∂–∞—Ä, –∫—Ä–∞–∂–∞, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ —Å–æ—Å–µ–¥—è–º–∏.',
      '–•–æ—Ç–∏—Ç–µ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–æ–π–¥—ë—Ç –∏–º–µ–Ω–Ω–æ –≤–∞–º –±–µ–∑ –ø–µ—Ä–µ–ø–ª–∞—Ç?',
    ],
    replies: [
      { label: '–î–∞', next: 'ownership_question', intent: 'stats_overall' },
    ],
  },

  // –í–µ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Å–∏—Ç—É–∞—Ü–∏–∏
  ownership_question: {
    id: 'ownership_question',
    bot: '–ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Å—ä—ë–º–Ω–∞—è? –ò –∫–∞–∫–∏–µ —Ä–∏—Å–∫–∏ –≤–æ–ª–Ω—É—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?',
    replies: [
      { label: 'üè† –°–≤–æ—è –∫–≤–∞—Ä—Ç–∏—Ä–∞', next: 'owner_intro', intent: 'owner' },
      { label: 'üß≥ –°–Ω–∏–º–∞—é –∂–∏–ª—å—ë', next: 'renter_intro', intent: 'renter' },
    ],
  },

  owner_intro: {
    id: 'owner_intro',
    bot: [
      '–°–≤–æ—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ ‚Äî —ç—Ç–æ –≤–ª–æ–∂–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å. –î–∞–∂–µ –Ω–æ–≤–∞—è –æ—Ç–¥–µ–ª–∫–∞ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.',
      '–ö–∞–∂–¥—ã–π 10-–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∑–∞ –≤—ã–ø–ª–∞—Ç–æ–π –≤ –ø–µ—Ä–≤—ã–π –≥–æ–¥. –ß–∞—â–µ –≤—Å–µ–≥–æ ‚Äî –∏–∑-–∑–∞ –≤–æ–¥—ã.',
    ],
    replies: [
      { label: '–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–∏—Å–∫–∏', next: 'risks_menu', intent: 'stats_overall' },
      { label: '–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç?', next: 'pricing', intent: 'steps' },
    ],
  },

  renter_intro: {
    id: 'renter_intro',
    bot: [
      '–ê—Ä–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–µ –∂–∏–ª—å—ë —Ç–æ–∂–µ –º–æ–∂–Ω–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞—Ç—å: –ª–∏—á–Ω—ã–µ –≤–µ—â–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ —Å–æ—Å–µ–¥—è–º–∏.',
      '41% –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤ –Ω–µ –∑–Ω–∞–ª–∏, —á—Ç–æ —ç—Ç–æ –º–æ–∂–Ω–æ. –ü–æ–∫–∞–∂—É –≤–∞—Ä–∏–∞–Ω—Ç—ã?',
    ],
    replies: [
      { label: '–î–∞, —Ä–∏—Å–∫–∏', next: 'risks_menu', intent: 'renter' },
      { label: '–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç?', next: 'pricing', intent: 'steps' },
    ],
  },

  // –ú–µ–Ω—é —Ä–∏—Å–∫–æ–≤ ‚Üí –º–∏–Ω–∏-–≥–∞–π–¥—ã
  risks_menu: {
    id: 'risks_menu',
    bot: '–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –≤–æ–ª–Ω—É–µ—Ç –±–æ–ª—å—à–µ:',
    replies: [
      { label: 'üíß –ó–∞–ª–∏–≤', next: 'risk_flood', intent: 'fear_flood' },
      { label: 'üî• –ü–æ–∂–∞—Ä', next: 'risk_fire', intent: 'fear_fire' },
      { label: 'üîì –ö—Ä–∞–∂–∞', next: 'risk_theft', intent: 'fear_theft' },
      { label: '‚öñ –ì–û (—Å–æ—Å–µ–¥–∏)', next: 'risk_liab', intent: 'liability' },
      { label: '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ', next: 'handoff', intent: 'steps' },
    ],
  },

  risk_flood: {
    id: 'risk_flood',
    bot: [
      '60% –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤ ‚Äî –∑–∞–ª–∏–≤. –î–∞–∂–µ ¬´–∫–∞–ø–ª–∏¬ª –¥–∞—é—Ç —É—â–µ—Ä–± –Ω–∞ 100 000 ‚ÇΩ. –°—Ä–µ–¥–Ω—è—è –≤—ã–ø–ª–∞—Ç–∞ –ø–æ –†–ì–° ‚Äî 210 000 ‚ÇΩ.',
    ],
    replies: [
      { label: '–ï—â—ë —Ä–∏—Å–∫–∏', next: 'risks_menu', intent: 'stats_overall' },
      { label: '–û—Ñ–æ—Ä–º–∏—Ç—å', next: 'handoff', intent: 'steps' },
    ],
  },

  risk_fire: {
    id: 'risk_fire',
    bot: [
      '–ü–æ–∂–∞—Ä –º–æ–∂–µ—Ç —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å –≤—Å—ë –∑–∞ 15 –º–∏–Ω—É—Ç. –°—Ä–µ–¥–Ω–∏–π —É–±—ã—Ç–æ–∫ –±–µ–∑ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏ 100‚Äì300 —Ç—ã—Å. ‚ÇΩ.',
    ],
    replies: [
      { label: '–ï—â—ë —Ä–∏—Å–∫–∏', next: 'risks_menu', intent: 'fear_fire' },
      { label: '–û—Ñ–æ—Ä–º–∏—Ç—å', next: 'handoff', intent: 'steps' },
    ],
  },

  risk_theft: {
    id: 'risk_theft',
    bot: [
      '–ö—Ä–∞–∂–∞ —Å–æ –≤–∑–ª–æ–º–æ–º: –ø–æ–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ö–∏—â–µ–Ω–Ω—ã–µ –≤–µ—â–∏ –∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –¥–≤–µ—Ä–∏/–∑–∞–º–∫–æ–≤.',
    ],
    replies: [
      { label: '–ï—â—ë —Ä–∏—Å–∫–∏', next: 'risks_menu', intent: 'fear_theft' },
      { label: '–û—Ñ–æ—Ä–º–∏—Ç—å', next: 'handoff', intent: 'steps' },
    ],
  },

  risk_liab: {
    id: 'risk_liab',
    bot: [
      '–ì–û ‚Äî –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å–æ—Å–µ–¥—è–º –ø—Ä–∏ –∑–∞–ª–∏–≤–µ/–ø–æ–∂–∞—Ä–µ. –ß–∞—Å—Ç–æ —Å–∞–º–∞—è –¥–æ—Ä–æ–≥–∞—è —á–∞—Å—Ç—å –ø–æ—Å–ª–µ –ß–ü.',
    ],
    replies: [
      { label: '–ï—â—ë —Ä–∏—Å–∫–∏', next: 'risks_menu', intent: 'liability' },
      { label: '–û—Ñ–æ—Ä–º–∏—Ç—å', next: 'handoff', intent: 'steps' },
    ],
  },

  // –¶–µ–Ω–∞ –∏ —Å–æ–º–Ω–µ–Ω–∏—è
  pricing: {
    id: 'pricing',
    bot: [
      '–ü–æ–¥–ø–∏—Å–∫–∞ –æ—Ç 390 ‚ÇΩ/–º–µ—Å (–∑–∞ –≥–æ–¥ –≤—ã–≥–æ–¥–Ω–µ–µ). –•–æ—á–µ—à—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã?',
    ],
    replies: [
      { label: '–ï—Å—Ç—å —Å–æ–º–Ω–µ–Ω–∏—è', next: 'proof', intent: 'cases' },
      { label: '–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞ 2 –º–∏–Ω—É—Ç—ã', next: 'handoff', intent: 'steps' },
    ],
  },

  proof: {
    id: 'proof',
    bot: [
      '–ü—Ä–∏–º–µ—Ä: –ø–æ–ª–∏—Å 12 900 ‚ÇΩ/–≥–æ–¥ ‚Üí —á–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞ –∑–∞–ª–∏–≤ ‚Üí –≤—ã–ø–ª–∞—Ç–∞ 115 000 ‚ÇΩ.',
      '–ì–æ—Ç–æ–≤ –≤–µ—Å—Ç–∏ –≤ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ?',
    ],
    replies: [
      { label: '–î–∞, –≤–ø–µ—Ä—ë–¥', next: 'handoff', intent: 'steps' },
      { label: '–í–æ–ø—Ä–æ—Å—ã', next: 'faq', intent: 'faq_common' },
    ],
  },

  faq: {
    id: 'faq',
    bot: [
      '–ß–∞—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç: ¬´–ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å?¬ª, ¬´–ö–∞–∫ –±—ã—Å—Ç—Ä–æ –ø–ª–∞—Ç–∏—Ç–µ?¬ª, ¬´–ö–∞–∫ –º–µ–Ω—è—Ç—å —Å—É–º–º—ã –ø–æ–∫—Ä—ã—Ç–∏—è?¬ª.',
    ],
    replies: [
      { label: '–û—Ñ–æ—Ä–º–∏—Ç—å —Å–µ–π—á–∞—Å', next: 'handoff', intent: 'steps' },
      { label: '–ù–∞–∑–∞–¥', next: 'pricing', intent: 'steps' },
    ],
  },

  // –ü–µ—Ä–µ–¥–∞—á–∞ –≤ –∞–Ω–∫–µ—Ç—É/–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
  handoff: {
    id: 'handoff',
    bot: [
      '–û—Ç–ª–∏—á–Ω–æ! –°–µ–π—á–∞—Å –ø–æ–∫–∞–∂—É —Ñ–æ—Ä–º—ã. –ü–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∞–¥—Ä–µ—Å, –∫–æ–Ω—Ç–∞–∫—Ç—ã, —Ä–∏—Å–∫–∏ –∏ —Å—É–º–º—ã –ø–æ–∫—Ä—ã—Ç–∏—è. –≠—Ç–æ –∑–∞–π–º—ë—Ç 2‚Äì5 –º–∏–Ω—É—Ç.',
    ],
    replies: [
      { label: '–ù–∞—á–∞—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ', next: 'end', intent: 'start_purchase' },
    ],
  },

  end: {
    id: 'end',
    bot: '–ü–µ—Ä–µ–∫–ª—é—á–∞—é—Å—å –≤ —Ä–µ–∂–∏–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è‚Ä¶',
    intent: 'start_purchase',
  },
};
